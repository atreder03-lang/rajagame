<script type="module">
import { db } from "./config.js";
import { doc, setDoc, onSnapshot } 
from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

const room = "room30";

async function setResult(color){
    await setDoc(doc(db, "rooms", room), {
        result: color,
        time: Date.now()
    });
    document.getElementById("current").innerText = color;
    alert("Result Updated: " + color);
}

onSnapshot(doc(db, "rooms", room), (snap)=>{
    if(snap.exists()){
        document.getElementById("current").innerText = snap.data().result;
    }
});
</script>
